(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/BIGTOP.5995e5fc.jpeg"},42:function(e,t,n){e.exports=n(73)},47:function(e,t,n){},48:function(e,t,n){},71:function(e){e.exports=JSON.parse('[{"featureType":"all","elementType":"labels.text.fill","stylers":[{"color":"#ffffff"},{"weight":"0.20"},{"lightness":"28"},{"saturation":"23"},{"visibility":"off"}]},{"featureType":"all","elementType":"labels.text.stroke","stylers":[{"color":"#494949"},{"lightness":13},{"visibility":"off"}]},{"featureType":"all","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#000000"}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#144b53"},{"lightness":14},{"weight":1.4}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#08304b"}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#0c4152"},{"lightness":5}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#000000"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#0b434f"},{"lightness":25}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#000000"}]},{"featureType":"road.arterial","elementType":"geometry.stroke","stylers":[{"color":"#0b3d51"},{"lightness":16}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#000000"}]},{"featureType":"transit","elementType":"all","stylers":[{"color":"#146474"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#021019"}]}]')},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),c=(n(47),n(48),n(6)),i=n(20),s=n(9),u=n.n(s),m=n(25),p=n(14),f=n(8),d=n(76),g=n(37),y=n(16),h=n(17),b=n.n(h),v=function(e){return b.a.get("http://api.positionstack.com/v1/forward?access_key=766fe22fc23d6d88d49cf420c88aed9e&query="+e)},E=function(e){(function(){var t=Object(p.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},j=function(e){(function(){var t=Object(p.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},w=Object(a.createContext)(),O=function(e){var t=e.children,n=Object(a.useState)([]),o=Object(c.a)(n,2),l=o[0],i=o[1];return console.log(l),r.a.createElement(w.Provider,{value:{list:l,setList:i}},t)};var k=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(n),i=Object(c.a)(l,2),s=(i[0],i[1]),h=Object(a.useContext)(w);return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),a=n.sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),o(Object(m.a)(a)),s(Object(m.a)(a)),h.setList(Object(m.a)(a)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()(),console.log(n)}),[]),r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(d.a,null,r.a.createElement(g.a,{lg:11},r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Control,{type:"name",placeholder:"Find Someone",style:{marginBottom:"20px",marginLeft:"10px"},onChange:function(e){return function(e){var t=e.target.value,a=[];if(console.log(t),(a=n.filter((function(e){return-1!==e.username.search(t)}))).length<1){a=n.filter((function(e){return-1!==e.show.search(t)})),console.log(a)}s(a),h.setList(a)}(e)}}))),r.a.createElement(g.a,{lg:1},r.a.createElement(y.a,{variant:"warning",type:"submit",onClick:function(e){e.preventDefault()},block:!0},"Search")))))},T=n(13);var x=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)({username:e.selected.username,createdAt:e.selected.createdAt}),o=Object(c.a)(n,2),l=o[0],i=o[1];return console.log(l),console.log(t),r.a.createElement(f.a,null,r.a.createElement("input",{type:"file",ref:t,className:"form-input p-2"}),r.a.createElement("button",{className:"btn",onClick:function(e){e.preventDefault();var n=new FormData;console.log(t),n.append("image",t.current.files[0]),console.log(n),function(){var e=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/image-upload",{mode:"cors",method:"POST",body:n});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error(t.statusText);case 6:return e.next=8,t.json();case 8:return a=e.sent,i(Object(T.a)(Object(T.a)({},l),{},{photo:a.Location})),console.log("postImage: ",a.Location),e.abrupt("return",a.Location);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()()},type:"submit"},"Upload"),r.a.createElement(y.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault(),j(l)}},"Add Photo"))},C=n(71),S=function(){var e=Object(a.useState)({}),t=Object(c.a)(e,2),n=t[0],o=t[1];console.log(n);var l=Object(a.useContext)(w);console.log(l.list);return r.a.createElement(i.c,{googleMapsApiKey:"AIzaSyD38kFky899eBip0oY_NzWFj65Qor-oZ3U"},r.a.createElement(k,null),r.a.createElement(i.a,{mapContainerStyle:{height:"70vh",width:"100%",opacity:".85"},options:{styles:C},zoom:2.3,center:{lat:41.3851,lng:2.1734}},l.list.map((function(e){return r.a.createElement(i.d,{key:e.username,position:e.location,onClick:function(){return function(e){o(e)}(e)}})})),n.location&&r.a.createElement(i.b,{position:n.location,clickable:!0,onCloseClick:function(){return o({})}},r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"20px"}},n.username),r.a.createElement("p",null,n.show),r.a.createElement("p",null,n.email),n.image?r.a.createElement("img",{style:{height:"100px"},src:n.image}):r.a.createElement(x,{selected:n})))))},A=n(39),L=n(40),N=n(22);var I=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),i=Object(c.a)(l,2),s=i[0],m=i[1],d=Object(a.useState)(""),g=Object(c.a)(d,2),h=g[0],b=g[1],j=Object(a.useState)(""),w=Object(c.a)(j,2),O=(w[0],w[1]),k=Object(a.useState)(""),x=Object(c.a)(k,2),C=(x[0],x[1]),S=Object(a.useState)({username:"",email:"",show:"",location:{}}),A=Object(c.a)(S,2),L=A[0],I=A[1];console.log(L);var P=function(e){I(Object(T.a)(Object(T.a)({},L),{},Object(N.a)({},e.target.name,e.target.value)))};function z(){return(z=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===L.username||""===L.email||""===L.show?alert("Please fill out your name, email, show, and location"):L.location.lat||L.location.lng?(console.log(L),E(L)):(a=n,console.log(n),v(a).then((function(e){var t=e.data.data[0].latitude,n=e.data.data[0].longitude;console.log(e,e.data.data[0].latitude),console.log(L),I(Object(T.a)(Object(T.a)({},L),{},{location:{lat:Number(t),lng:Number(n)}})),console.log(L),E(L)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){console.log(e.coords),m(e.coords.latitude),b(e.coords.longitude)}))}),[]),r.a.createElement(f.a,null,r.a.createElement(f.a.Group,{controlId:"name"},r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"email",placeholder:"Enter your name",name:"username",onChange:P,value:L.username})),r.a.createElement("br",null),r.a.createElement(f.a.Group,{controlId:"email"},r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",placeholder:"Email",name:"email",onChange:P,value:L.email})),r.a.createElement("br",null),r.a.createElement(f.a.Group,{controlId:"show"},r.a.createElement(f.a.Label,null,"Which show were you on?"),r.a.createElement(f.a.Control,{type:"email",placeholder:"Show",name:"show",onChange:P,value:L.show})),r.a.createElement("br",null),r.a.createElement(f.a.Group,{controlId:"address"},r.a.createElement(f.a.Label,null,"Where are you located?"),r.a.createElement(f.a.Control,{type:"address",placeholder:"Address",onChange:function(e){return o(e.target.value)},value:n}),r.a.createElement(y.a,{variant:"success",onClick:function(e){e.preventDefault(),O(s),C(h),o(s,h),I(Object(T.a)(Object(T.a)({},L),{},{location:{lat:Number(s),lng:Number(h)}})),console.log(L)}},"Use Current Location")),r.a.createElement("br",null),r.a.createElement(y.a,{variant:"primary",type:"submit",onClick:function(e){return z.apply(this,arguments)}},"Submit"))},P=n(18);function z(e){return r.a.createElement(P.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Add Yourself!")),r.a.createElement(P.a.Body,null,r.a.createElement("h4",null,"Enter Your Info:"),r.a.createElement(I,null)),r.a.createElement(P.a.Footer,null,r.a.createElement(y.a,{onClick:function(){e.onHide(),window.location.reload()}},"Close")))}var B=function(){var e=r.a.useState(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"primary",size:"lg",block:!0,onClick:function(){return a(!0)}},"Add Yourself!"),r.a.createElement(z,{show:n,onHide:function(){return a(!1)}}))};var F=function(){return r.a.createElement(A.a,{fluid:!0},r.a.createElement(L.a,{style:{height:"200px",paddingTop:"150px",paddingBottom:"200px"}},r.a.createElement("h1",{style:{color:"white"}},"Find Each Other"),r.a.createElement("p",{style:{color:"white"}},"Your Circus Family is just a click away"),r.a.createElement(B,null)))},D=n(41),W=n.n(D);var G=function(){return r.a.createElement("div",{className:"App",style:{backgroundSize:"cover",backgroundImage:"url("+W.a+")",backgroundPositionY:"30%",margin:0}},r.a.createElement(O,null,r.a.createElement(F,null),r.a.createElement(S,null)))},Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(72);l.a.render(r.a.createElement(G,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Y?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):J(e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.d2be0539.chunk.js.map